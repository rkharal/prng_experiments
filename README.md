# PRNG_EXPERIMENTS
Experiments related to PRNG (Pseudo Random Number Generator) usage in microbenchmarks experiements for testing
 conconurrent data structures.

 We test and compare various PRNGs (Hardware and Software) for use in concurrent data structure experiments.
 We also test the set of generated random numbers for randomness quality in varying bit positions of the random number.
 This gives an indication of the bitwise random behaviour generated by different PRNGs.

 Full Paper:  ["Performance Anomalies in Concurrent Data Structure Microbenchmarks"](
 https://arxiv.org/pdf/2208.08469.pdf)
 Work related to PRNG Experiments (Section 6) from this work is shared in this repository.

 This repository contains the following:
 
 - various PRNGs to test with in random.h

 - an nth-bit summation test program to test for patterns in the n-th bit positions of random numbers

 - scripts to run experiments

 - plot scripts to automate plot generation for visualizing summation results

 See USAGE instructions

 # Further Information
 Software PRNG and Hardware RNGs:
 
   - *Murmur3/Murmur64* - ["Austin Appleby. Murmurhash3, 2012."](https://github.com/aappleby/smhasher/wiki/)
 
   - *XORSH* - ["George Marsalia XOR-Shift: Xorshift. 2022."](https://en.wikipedia.org/wiki/Xorshift)

   - *MT*- Makoto Matsumoto and Takuji Nishimura. Mersenne twister: ["A 623-dimensionally equidistributed uniform pseudo-random number generator"](https://dl.acm.org/doi/pdf/10.1145/272991.272995)
 
   - *MRG*- ["Morita Naoyuki. Pseudo random number generator with mrg (multiple recursive generator),2020"](https://www.schneier.com/blog/archives/2008/05/random_number_b.html)

   - *RDRAND/RDSEED* - Intel Secure Key Instructions Gael Hofemeier and Robert Chesebrough. ["Introduction to intel aes-ni and intel secure key instructions."](https://www.intel.com/content/dam/develop/external/us/en/documents/introduction-to-intel-secure-key-instructions.pdf) 


# Build Instructions:

   - clone this repository
   - All executables exist in the bin directory. We generate one exe for each PRNG
   - To rebuild the various PRNG executables:
      - see Makefile in src directory 
      - For example: g++ -o ../bin/mm3_rng run_rng.cpp -DMURMUR3 -mrdrnd -mrdseed


# Usage: 

## Bitwise experiments:
-# PRNG_EXPERIMENTS
Experiments related to PRNG (Pseudo Random Number Generator) usage in microbenchmarks experiements for testing
 conconurrent data structures.

 We test and compare various PRNGs (Hardware and Software) for use in concurrent data structure experiments.
 We also test the set of generated random numbers for randomness quality in varying bit positions of the random number.
 This gives an indication of the bitwise random behaviour generated by different PRNGs.

 Full Paper:  ["Performance Anomalies in Concurrent Data Structure Microbenchmarks"](
 https://arxiv.org/pdf/2208.08469.pdf)
 Work related to PRNG Experiments (Section 6) from this work is shared in this repository.

 This repository contains the following:
 
 - various PRNGs to test with in random.h

 - an nth-bit summation test program to test for patterns in the n-th bit positions of random numbers

 - scripts to run experiments

 - plot scripts to automate plot generation for visualizing summation results

 See USAGE instructions

 # Further Information
 Software PRNG and Hardware RNGs:
 
   - *Murmur3/Murmur64* - ["Austin Appleby. Murmurhash3, 2012."](https://github.com/aappleby/smhasher/wiki/)
 
   - *XORSH* - ["George Marsalia XOR-Shift: Xorshift. 2022."](https://en.wikipedia.org/wiki/Xorshift)

   - *MT*- Makoto Matsumoto and Takuji Nishimura. Mersenne twister: ["A 623-dimensionally equidistributed uniform pseudo-random number generator"](https://dl.acm.org/doi/pdf/10.1145/272991.272995)
 
   - *MRG*- ["Morita Naoyuki. Pseudo random number generator with mrg (multiple recursive generator),2020"](https://www.schneier.com/blog/archives/2008/05/random_number_b.html)

   - *RDRAND/RDSEED* - Intel Secure Key Instructions Gael Hofemeier and Robert Chesebrough. ["Introduction to intel aes-ni and intel secure key instructions."](https://www.intel.com/content/dam/develop/external/us/en/documents/introduction-to-intel-secure-key-instructions.pdf) 


# Build Instructions:

   - clone this repository
   - All executables exist in the bin directory. We generate one exe for each PRNG
   - To rebuild the various PRNG executables:
      - see Makefile in src directory 
      - For example: g++ -o ../bin/mm3_rng run_rng.cpp -DMURMUR3 -mrdrnd -mrdseed


# Usage: 

## Bitwise Summation experiments:
- **./run_experiments_reseeding.sh**  to generate all output .txt files in the **output** directory  

   (a) Option -r to allow reseeding (1) or no reseeding (0)    
       -Reseeding occurs every 10 000 random numbers  
   (b) Generating 10 000 000 random numbers  
   (c) See /src/run_rng.cpp to modify the frequency of reseeding (default 10000)
   (d) See **run_experiments_reseeding.sh** to modify frequency of summing bit results (default is every 1000 random numbers). 

   (e) This script will assess bitwise randomness properties for bits [0,9] in the random number.  
   (f) To update the bit postions you would like to monitor in this experiment from [0 ,**nbits**] see the test script: **run_experiments_reseeding.sh**  
   


## To Compare Bitwise Randomness:




## To Test a Pre-Generated Array of Random Numbers:




## To Compare Bitwise Randomness:

   (a) Option -r to allow reseeding (1) or no reseeding (0)    
       -Reseeding occurs every 10000 random numbers  
   (b) Generating 10 000 000 random numbers  
   (c) See /src/run_rng.cpp to modify range or frequency of reseeding  

   (e) This script will assess bitwise randomness properties for bits [0,9] in the random number.  
   (f) To update the bit postions from [0 ,**nbits**] see the test script: **run_experiments_reseeding.sh**  
   (g) **./run_experiments_reseeding.sh**  to generate all output .txt files in the Output directory  



## To Compare Bitwise Randomness:




## To Test a Pre-Generated Array of Random Numbers:




## To Compare Bitwise Randomness:

